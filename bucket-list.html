<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌈 Birlikte Yapacaklarımız</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="bucket-list.css">
    <link rel="stylesheet" href="navigation.css">
    <link rel="stylesheet" href="theme-switcher.css">
    <style>
        body {
            padding-bottom: 80px;
        }
    </style>
</head>
<body>
    <!-- Desktop Navigation -->
    <nav class="desktop-nav">
        <div class="desktop-nav-brand">💕 Bizim Hikayemiz</div>
        <div class="desktop-nav-menu">
            <a href="index.html" class="desktop-nav-item">🏠 Ana Sayfa</a>
            <a href="gallery.html" class="desktop-nav-item">📸 Galeri</a>
            <a href="bucket-list.html" class="desktop-nav-item active">🌈 Hedefler</a>
            <a href="quiz.html" class="desktop-nav-item">🎯 Quiz</a>
            <a href="playlist.html" class="desktop-nav-item">🎵 Müzik</a>
            <a href="gifts.html" class="desktop-nav-item">🎁 Hediyeler</a>
            <a href="reminders.html" class="desktop-nav-item">📅 Hatırlatıcılar</a>
            <a href="admin.html" class="desktop-nav-item">⚙️ Ayarlar</a>
            <button onclick="logout()" class="desktop-nav-item">🚪 Çıkış</button>
        </div>
    </nav>

    <!-- Mobile Navigation -->
    <div class="more-menu-overlay" id="moreMenuOverlay"></div>
    <div class="more-menu" id="moreMenu">
        <a href="quiz.html" class="more-menu-item">
            <span class="menu-icon">🎯</span>
            <span>Quiz</span>
        </a>
        <a href="playlist.html" class="more-menu-item">
            <span class="menu-icon">🎵</span>
            <span>Müzik</span>
        </a>
        <a href="gifts.html" class="more-menu-item">
            <span class="menu-icon">🎁</span>
            <span>Hediyeler</span>
        </a>
        <a href="admin.html" class="more-menu-item">
            <span class="menu-icon">⚙️</span>
            <span>Ayarlar</span>
        </a>
        <button onclick="logout()" class="more-menu-item">
            <span class="menu-icon">🚪</span>
            <span>Çıkış</span>
        </button>
    </div>

    <nav class="floating-nav">
        <a href="index.html" class="nav-item">
            <span class="nav-icon">🏠</span>
            <span class="nav-text">Ana Sayfa</span>
        </a>
        <a href="gallery.html" class="nav-item">
            <span class="nav-icon">📸</span>
            <span class="nav-text">Galeri</span>
        </a>
        <a href="bucket-list.html" class="nav-item active">
            <span class="nav-icon">🌈</span>
            <span class="nav-text">Hedefler</span>
        </a>
        <a href="reminders.html" class="nav-item">
            <span class="nav-icon">📅</span>
            <span class="nav-text">Hatırlatıcılar</span>
        </a>
        <button class="nav-item" id="moreBtn">
            <span class="nav-icon">⋯</span>
            <span class="nav-text">Diğer</span>
        </button>
    </nav>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const moreBtn = document.getElementById('moreBtn');
            const moreMenu = document.getElementById('moreMenu');
            const moreMenuOverlay = document.getElementById('moreMenuOverlay');
            
            if (moreBtn && moreMenu && moreMenuOverlay) {
                moreBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    moreMenu.classList.toggle('active');
                    moreMenuOverlay.classList.toggle('active');
                });
                
                moreMenuOverlay.addEventListener('click', () => {
                    moreMenu.classList.remove('active');
                    moreMenuOverlay.classList.remove('active');
                });
            }
        });
    </script>

    <div class="hearts-container"></div>

    <script src="auth.js"></script>
    <script>if (!checkAuth()) window.location.href = 'login.html';</script>

    <div class="bucket-wrapper">
        <!-- Hero Section -->
        <div class="bucket-hero">
            <div class="hero-bg"></div>
            <div class="hero-content">
                <h1 class="hero-title">
                    <span class="title-line">Birlikte</span>
                    <span class="title-line highlight">Yapacaklarımız</span>
                </h1>
                <p class="hero-subtitle">Her hayalimiz bir macera, her anımız değerli 🌟</p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <span class="stat-number" id="totalItems">0</span>
                        <span class="stat-label">Toplam</span>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <span class="stat-number completed-color" id="completedItems">0</span>
                        <span class="stat-label">Tamamlandı</span>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <span class="stat-number pending-color" id="pendingItems">0</span>
                        <span class="stat-label">Bekliyor</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add New Item -->
        <div class="add-section">
            <div class="add-container">
                <h3>✨ Yeni Hedef Ekle</h3>
                <div class="add-form">
                    <input type="text" id="newItemEmoji" placeholder="Emoji (ör: 🎬)" maxlength="2">
                    <input type="text" id="newItemText" placeholder="Ne yapmak istiyorsunuz?">
                    <button onclick="addNewItem()" class="add-btn">
                        <span>➕</span> Ekle
                    </button>
                </div>
            </div>
        </div>

        <!-- Bucket List Items -->
        <div class="bucket-container">
            <!-- Pending Items Section -->
            <div class="section-header pending-section">
                <h2 class="section-title">
                    <span class="section-icon">⏳</span>
                    <span>Yapılacaklar</span>
                    <span class="section-count" id="pendingCount">0</span>
                </h2>
            </div>
            <div class="items-grid" id="pendingGrid">
                <!-- Pending items will be loaded here -->
            </div>
            <div id="emptyPending" class="empty-section" style="display: none;">
                <p>🎉 Harika! Tüm hedeflerinizi tamamladınız!</p>
            </div>

            <!-- Completed Items Section -->
            <div class="section-header completed-section">
                <h2 class="section-title">
                    <span class="section-icon">✅</span>
                    <span>Tamamlananlar</span>
                    <span class="section-count" id="completedCount">0</span>
                </h2>
            </div>
            <div class="items-grid" id="completedGrid">
                <!-- Completed items will be loaded here -->
            </div>
            <div id="emptyCompleted" class="empty-section" style="display: none;">
                <p>📝 Henüz tamamlanmış hedef yok. İlk hedefi tamamlayın!</p>
            </div>

            <div id="emptyState" class="empty-bucket" style="display: none;">
                <div class="empty-animation">
                    <div class="empty-circle"></div>
                    <div class="empty-icon">🌈</div>
                </div>
                <h2 class="empty-title">Henüz Hedef Yok</h2>
                <p class="empty-text">Birlikte yapmak istediğiniz şeyleri eklemeye başlayın!</p>
            </div>
        </div>

        <!-- Photo Upload Modal -->
        <div id="photoModal" class="photo-modal">
            <div class="modal-content">
                <button class="modal-close" onclick="closePhotoModal()">✕</button>
                <h3>🎉 Tebrikler! Hedef Tamamlandı</h3>
                <p class="modal-subtitle">Bu özel anın fotoğrafını yüklemek ister misiniz?</p>
                
                <div class="modal-buttons">
                    <button onclick="skipPhoto()" class="skip-btn">
                        <span>⏭️</span> Fotoğraf Yükleme
                    </button>
                    <button onclick="document.getElementById('completionPhoto').click()" class="upload-photo-btn">
                        <span>📸</span> Fotoğraf Yükle
                    </button>
                </div>
                
                <input type="file" id="completionPhoto" accept="image/*" style="display: none;">
                
                <div id="photoPreviewContainer" style="display: none;">
                    <img id="photoPreview" class="photo-preview" src="" alt="Önizleme">
                    <button onclick="confirmPhotoUpload()" class="confirm-photo-btn">
                        ✨ Anıya Ekle
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="theme-switcher.js"></script>
    <script type="module" src="bucket-list.js"></script>
    
    <!-- Bottom Navigation removed (unified navigation is added earlier in the document) -->
</body>
</html>
