<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’• AnÄ±larÄ±mÄ±z - Galeri</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="gallery.css">
    <link rel="stylesheet" href="navigation.css">
    <link rel="stylesheet" href="theme-switcher.css">
    <script src="https://cdn.jsdelivr.net/npm/exif-js"></script>
    <style>
        body {
            padding-bottom: 80px;
        }
        .gallery-wrapper {
            padding-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="hearts-container"></div>

    <script src="auth.js"></script>
    <script>if (!checkAuth()) window.location.href = 'login.html';</script>

    <div class="gallery-wrapper">
        <!-- Hero Section -->
        <div class="gallery-hero">
            <div class="hero-bg"></div>
            <div class="hero-content">
                <h1 class="hero-title">
                    <span class="title-line">Bizim</span>
                    <span class="title-line highlight">AnÄ±larÄ±mÄ±z</span>
                </h1>
                <p class="hero-subtitle">Her fotoÄŸraf bir hikaye, her an deÄŸerli ğŸ’•</p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <span class="stat-number" id="totalPhotos">0</span>
                        <span class="stat-label">FotoÄŸraf</span>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <span class="stat-number" id="totalMemories">0</span>
                        <span class="stat-label">AnÄ±</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filter Bar -->
        <div class="filter-bar">
            <div class="filter-container">
                <div class="filter-section">
                    <span class="filter-label">ğŸ“‚</span>
                    <div class="filter-buttons" id="categoryFilters">
                        <button class="filter-chip active" data-filter="all">TÃ¼mÃ¼</button>
                        <button class="filter-chip" data-filter="tatil">ğŸ–ï¸ Tatil</button>
                        <button class="filter-chip" data-filter="selfie">ğŸ¤³ Selfie</button>
                        <button class="filter-chip" data-filter="Ã¶zel">ğŸ‰ Ã–zel</button>
                        <button class="filter-chip" data-filter="doÄŸa">ğŸŒ² DoÄŸa</button>
                    </div>
                </div>
                <div class="filter-section">
                    <span class="filter-label">ğŸ“…</span>
                    <div class="filter-buttons" id="dateFilters">
                        <button class="filter-chip date-chip active" data-date="all">TÃ¼mÃ¼</button>
                        <button class="filter-chip date-chip" data-date="this-month">Bu Ay</button>
                        <button class="filter-chip date-chip" data-date="last-month">GeÃ§en Ay</button>
                        <button class="filter-chip date-chip" data-date="this-year">Bu YÄ±l</button>
                        <button class="filter-chip date-chip" data-date="older">Daha Eski</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Upload Section -->
        <div class="upload-section">
            <div class="upload-container">
                <h3 class="upload-title">ğŸ“¤ Yeni AnÄ± Ekle</h3>
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">ğŸ“¸</div>
                    <p class="upload-text">FotoÄŸraf yÃ¼klemek iÃ§in tÄ±klayÄ±n</p>
                    <p class="upload-hint">veya sÃ¼rÃ¼kle bÄ±rak</p>
                    <input type="file" id="uploadInput" accept="image/*" style="display: none;">
                </div>
            </div>
        </div>

        <!-- Upload Modal -->
        <div id="uploadModal" class="upload-modal">
            <div class="modal-content">
                <button class="modal-close" onclick="closeUploadModal()">âœ•</button>
                <h3>FotoÄŸraf DetaylarÄ±</h3>
                <div class="modal-preview">
                    <img id="previewImage" src="" alt="Ã–nizleme">
                </div>
                <div class="modal-form">
                    <div class="form-field">
                        <label>ğŸ“ AÃ§Ä±klama</label>
                        <input type="text" id="uploadCaption" placeholder="Bu anÄ± hakkÄ±nda bir ÅŸeyler yazÄ±n...">
                    </div>
                    <div class="form-field">
                        <label>ğŸ“‚ Kategori</label>
                        <select id="uploadCategory">
                            <option value="diÄŸer">ğŸ“· DiÄŸer</option>
                            <option value="tatil">ğŸ–ï¸ Tatil</option>
                            <option value="selfie">ğŸ¤³ Selfie</option>
                            <option value="Ã¶zel">ğŸ‰ Ã–zel</option>
                            <option value="doÄŸa">ğŸŒ² DoÄŸa</option>
                        </select>
                    </div>
                    <div class="form-field">
                        <label>ğŸ“… Tarih (boÅŸ bÄ±rakÄ±lÄ±rsa bugÃ¼nÃ¼n tarihi kullanÄ±lÄ±r)</label>
                        <input type="date" id="uploadDate" placeholder="Opsiyonel">
                    </div>
                    <div id="exifInfo" class="exif-info" style="display: none;">
                        <h4>ğŸ“· FotoÄŸraf Bilgileri</h4>
                        <div id="exifDetails"></div>
                    </div>
                    <button class="upload-btn" onclick="confirmUpload()">
                        <span>âœ¨</span> AnÄ±yÄ± Kaydet
                    </button>
                </div>
            </div>
        </div>

        <!-- Photos Grid -->
        <div class="photos-container">
            <div id="photoGrid" class="masonry-grid">
                <!-- Photos will be loaded here -->
            </div>

            <!-- Empty State -->
            <div id="emptyState" class="empty-gallery" style="display: none;">
                <div class="empty-animation">
                    <div class="empty-circle"></div>
                    <div class="empty-icon">ğŸ“¸</div>
                </div>
                <h2 class="empty-title">HenÃ¼z FotoÄŸraf Yok</h2>
                <p class="empty-text">GÃ¼zel anÄ±larÄ±nÄ±zÄ± paylaÅŸmaya baÅŸlayÄ±n!</p>
                <button onclick="window.location.href='admin.html'" class="empty-button">
                    <span>âœ¨</span> Ä°lk AnÄ±yÄ± Ekle
                </button>
            </div>
        </div>

        <!-- Lightbox -->
        <div id="lightbox" class="lightbox-overlay">
            <button class="lightbox-close" onclick="closeLightbox()">âœ•</button>
            <button class="lightbox-arrow left" onclick="navigateLightbox(-1)">â€¹</button>
            <button class="lightbox-arrow right" onclick="navigateLightbox(1)">â€º</button>
            
            <div class="lightbox-container">
                <div class="lightbox-image-wrapper">
                    <img id="lightboxImage" class="lightbox-image" src="" alt="">
                </div>
                <div class="lightbox-details">
                    <h3 id="lightboxCaption" class="lightbox-title">-</h3>
                    <p id="lightboxMeta" class="lightbox-info">-</p>
                </div>
            </div>
        </div>
    </div>

    <script src="theme-switcher.js"></script>
    <script type="module">
        import firebaseSync from './firebase-sync.js';
        window.firebaseSync = firebaseSync;
    </script>
    <script type="module" src="gallery.js"></script>
    <script type="module" src="script.js"></script>
    
    <!-- Bottom Navigation -->
    <nav class="floating-nav">
        <button onclick="window.location.href='index.html'" class="nav-item">
            <span class="nav-icon"></span>
            <span class="nav-text">Ana Sayfa</span>
        </button>
        <button onclick="window.location.href='gallery.html'" class="nav-item active">
            <span class="nav-icon"></span>
            <span class="nav-text">Galeri</span>
        </button>
        <button onclick="window.location.href='bucket-list.html'" class="nav-item">
            <span class="nav-icon"></span>
            <span class="nav-text">Hedefler</span>
        </button>
        <button onclick="window.location.href='admin.html'" class="nav-item">
            <span class="nav-icon"></span>
            <span class="nav-text">Ayarlar</span>
        </button>
        <button onclick="logout()" class="nav-item">
            <span class="nav-icon"></span>
            <span class="nav-text">Çıkış</span>
        </button>
    </nav>
</body>
</html>
